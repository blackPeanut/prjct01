"use strict";function renderAccordingPage(){flag?(mainFunction(),document.querySelector(".mobile-menu-btn").addEventListener("click",function(){var e=document.querySelector(".main-page");fl?(e.className+=" off-canvas",fl=!1):(e.className="main-page",fl=!0)},!1)):(renderHomepage(),fl=!0,document.querySelector(".mobile-menu-btn").addEventListener("click",function(){var e=document.querySelector(".main-page");fl?(e.className+=" off-canvas",fl=!1):(e.className="main-page",fl=!0)},!1))}function mainFunction(){function e(){var e=Array.apply(null,arguments);e.forEach(function(e){var n=l(e),t=window.getComputedStyle(n,null);"hidden"===t.visibility?n.style.visibility="visible":"none"===t.display&&(n.style.display="block",console.log(n+" display value changed to 'block'"))})}function n(){function e(){var e=document.querySelectorAll(".quoteText > span"),n=e.length<=80?80:30,o=0,i;i=window.setInterval(function(){e[o].style.color="white",o+=1,o>=e.length&&(clearInterval(i),r(".quoteAuthor",1e3,t))},n)}var n=l(".quoteText");n.innerHTML="<span>"+n.innerHTML.split("").join("</span><span>")+"</span>",e()}function t(){o(".disabler",function(){e(".main",".footer",".menu",".footer"),r(".menu",500,function(){homepage=a.innerHTML})},100)}function o(e,n,t){var o=document.querySelector(e),r=parseInt(window.getComputedStyle(o,null).height),i=t?t:1,l;l=window.setInterval(function(){r-=3,o.style.height=r+"px",4>=r&&(o.style.height="0px",clearInterval(l),n&&setTimeout(n,i))},1)}function r(e,n,t,o){var r=l(e),i=0,a;a=window.setInterval(function(){i+=.02,r.style.opacity=i,r.style.opacity>=1&&(clearInterval(a),t&&setTimeout(t,o))},n/50)}function i(e){var n=parseInt(window.getComputedStyle(l(e),null).fontSize),t=parseInt(window.getComputedStyle(a,null).fontSize),o=n/t;return n/t}function l(e){return"string"==typeof e?document.querySelector(e):e}flag=!1;var a=l("body"),c=Hogan.compile(document.querySelector("#homepage_tmpl").innerHTML),u=Hogan.compile(document.querySelector("#quote_tmpl").innerHTML),s=Hogan.compile(document.querySelector("#menu_tmpl").innerHTML);a.innerHTML=c.render(),l(".blockquote").innerHTML=u.render(data.quotes[Math.floor(Math.random()*data.quotes.length)]),l(".menu").innerHTML=s.render(data);for(var m=l(".blockquote"),d=l(".quoteText"),f=l(".quoteAuthor"),p=i(d),g=i(f),y=g/p.toFixed(3);m.clientHeight<m.scrollHeight;)p-=.1,d.style.fontSize=p+"em",f.style.fontSize=p*y+"em";r(".disabler",1e3,function(){e(".main-page"),n()},300)}function getEl(e){return"string"==typeof e?document.querySelector(e):e}function renderPageTemplate(e){var n=Hogan.compile(getEl("#page_tmpl").innerHTML),t=n.render(data);getEl("body").innerHTML=t;var o=Hogan.compile(getEl("#page_tmpl_content").innerHTML),r=o.render(data.authors[e]);getEl(".main-tmpl").innerHTML=getEl("#partial_"+e).innerHTML,fl=!0,document.querySelector(".mobile-menu-btn").addEventListener("click",function(){var e=document.querySelector(".offside-section-tmpl");fl?(e.className+=" off-canvas",getEl(".off-canvas-menu").style.visibility="visible",fl=!1):(e.className="offside-section-tmpl",fl=!0)},!1)}function renderHomepage(){getEl("body").innerHTML=homepage}var homepage,flag=!0,fl=!0,routes={"/page":{"/:pageId":{on:function(e){renderPageTemplate(e)}}},"/":{on:function(){renderAccordingPage()}}},options={html5history:!0,convert_hash_in_init:!0},router=Router(routes);router.init("/");