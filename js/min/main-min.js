window.onload=function(){"use strict";function e(){var e=Array.apply(null,arguments);e.forEach(function(e){var t=a(e),n=window.getComputedStyle(t,null);"hidden"===n.visibility?t.style.visibility="visible":"none"===n.display&&(t.style.display="block",console.log(t+" display value changed to 'block'"))})}function t(){function e(){var e=document.querySelectorAll(".quoteText > span"),t=o(e),r=0,a;a=window.setInterval(function(){e[r].style.color="white",r+=1,r>=e.length&&(clearInterval(a),i(".quoteAuthor",1e3,n))},t)}function t(e){var t=e.split(""),n="<span>"+t.join("</span><span>")+"</span>";return n}function o(e){var t=e.length;return 80>=t?80:30}var r=a(".quoteText");r.innerHTML=t(r.innerHTML),e()}function n(){o(".disabler",function(){e(".main",".footer",".menu",".footer"),i(".menu",1e3)},100)}function o(e,t,n){var o=document.querySelector(e),i=parseInt(window.getComputedStyle(o,null).height),r=n?n:1,a;a=window.setInterval(function(){i-=3,o.style.height=i+"px",4>=i&&(o.style.height="0px",clearInterval(a),t&&setTimeout(t,r))},1)}function i(e,t,n,o){var i=a(e),r=0,l;l=window.setInterval(function(){r+=.02,i.style.opacity=r,i.style.opacity>=1&&(clearInterval(l),n&&setTimeout(n,o))},t/50)}function r(e){var t=parseInt(window.getComputedStyle(a(e),null).fontSize),n=parseInt(window.getComputedStyle(c,null).fontSize),o=t/n;return t/n}function a(e){return"string"==typeof e?document.querySelector(e):e}function l(e){var t=Hogan.compile(a("#page_tmpl").innerHTML),n=t.render(data);c.innerHTML=n;var o=Hogan.compile(a("#page_tmpl_content").innerHTML),i=o.render(data.authors[e]);a(".main-tmpl").innerHTML=i}function u(){c.innerHTML=w,e(".footer",".main-page",".main"),a(".quoteText").style.color="white",a(".quoteAuthor").style.opacity="1",a(".menu").style.opacity="1"}var c=a("body"),s=Hogan.compile(document.querySelector("#quote_tmpl").innerHTML),d=Hogan.compile(document.querySelector("#menu_tmpl").innerHTML),m=s.render(data.quotes[Math.floor(Math.random()*data.quotes.length)]),p=d.render(data);a(".blockquote").innerHTML=m,a(".menu").innerHTML=p;for(var y=a(".blockquote"),f=a(".quoteText"),v=a(".quoteAuthor"),h=r(f),g=r(v),q=g/h.toFixed(3);y.clientHeight<y.scrollHeight;)h-=.1,f.style.fontSize=h+"em",v.style.fontSize=h*q+"em";var w=c.innerHTML;i(".disabler",1e3,function(){e(".main-page"),t()},300);var H=!0;document.querySelector(".mobile-menu-btn").addEventListener("click",function(){var e=document.querySelector(".main-page");H?(e.className+=" off-canvas",H=!1):(e.className="main-page",H=!0)},!1);var T={"author/:authorId":function(e){l(e)},"/":function(){u()}},S={html5history:!0,convert_hash_in_init:!0},M=Router(T);M.init()};