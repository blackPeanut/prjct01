"use strict";function toggleClass(e,t){var n=new RegExp("(?:^|\\s)"+t+"(?!\\S)");e.className.match(n)?e.className=e.className.replace(n,""):e.className+=" "+t}function getEl(e){return"string"==typeof e?document.querySelector(e):e}function mainFunction(){function e(){var e=Array.apply(null,arguments);e.forEach(function(e){var t=getEl(e),n=window.getComputedStyle(t,null);"hidden"===n.visibility?t.style.visibility="visible":"none"===n.display&&(t.style.display="block",console.log(t+" display value changed to 'block'"))})}function t(){function e(){var e=document.querySelectorAll(".quoteText > span"),t=e.length<=80?80:30,o=0,a;a=window.setInterval(function(){e[o].style.color="white",o+=1,o>=e.length&&(clearInterval(a),l(".quoteAuthor",1e3,n))},t)}var t=getEl(".quoteText");t.innerHTML="<span>"+t.innerHTML.split("").join("</span><span>")+"</span>",e()}function n(){o(".disabler",function(){e(".main",".footer",".menu",".footer"),l(".menu",500,function(){homepage=r.innerHTML})},100)}function o(e,t,n){var o=document.querySelector(e),l=parseInt(window.getComputedStyle(o,null).height),a=n?n:1,r;r=window.setInterval(function(){l-=3,o.style.height=l+"px",4>=l&&(o.style.height="0px",clearInterval(r),t&&setTimeout(t,a))},1)}function l(e,t,n,o){var l=getEl(e),a=0,r;r=window.setInterval(function(){a+=.02,l.style.opacity=a,l.style.opacity>=1&&(clearInterval(r),n&&setTimeout(n,o))},t/50)}function a(e){var t=parseInt(window.getComputedStyle(getEl(e),null).fontSize),n=parseInt(window.getComputedStyle(r,null).fontSize),o=t/n;return t/n}var r=getEl("body"),i=Hogan.compile(document.querySelector("#homepage_tmpl").innerHTML),u=Hogan.compile(document.querySelector("#quote_tmpl").innerHTML),c=Hogan.compile(document.querySelector("#menu_tmpl").innerHTML);r.innerHTML=i.render(),getEl(".blockquote").innerHTML=u.render(data.quotes[Math.floor(Math.random()*data.quotes.length)]),getEl(".menu").innerHTML=c.render(data);for(var s=getEl(".blockquote"),g=getEl(".quoteText"),m=getEl(".quoteAuthor"),p=a(g),d=a(m),f=d/p.toFixed(3);s.clientHeight<s.scrollHeight;)p-=.1,g.style.fontSize=p+"em",m.style.fontSize=p*f+"em";l(".disabler",1e3,function(){e(".main-page"),t()},300)}function renderPageTemplate(e){var t=Hogan.compile(getEl("#page_tmpl").innerHTML),n=t.render(data);getEl("body").innerHTML=n;var o=Hogan.compile(getEl("#page_tmpl_content").innerHTML),l=o.render(data.authors[e]);getEl(".main-tmpl").innerHTML=getEl("#partial_"+e).innerHTML}function renderHomepage(){getEl("body").innerHTML=homepage}var homepage;window.addEventListener("click",function(e){var t=e||window.event;if("mobile-menu-btn"===t.target.className){var n=getEl(".offside-section-tmpl")||getEl(".main-page");toggleClass(n,"off-canvas")}},!1);var routes={"/page":{"/:pageId":{on:function(e){renderPageTemplate(e)}}},"/":{once:function(){mainFunction()},before:function(){renderHomepage()}}},router=Router(routes);router.init("/");