"use strict";function showInvisibles(){var e=Array.apply(null,arguments);e.forEach(function(e){var t=getEl(e),o=window.getComputedStyle(t,null);"hidden"===o.visibility?t.style.visibility="visible":"none"===o.display&&(t.style.display="block",console.log(t+" display value changed to 'block'"))})}function printQuote(){function e(){var e=document.querySelectorAll(".quoteText > span"),t=e.length<=80?80:30,o=0,n;n=window.setInterval(function(){e[o].style.color="white",o+=1,o>=e.length&&(clearInterval(n),fadeIn(".quoteAuthor",1e3,closeHeaderDisabler))},t)}var t=getEl(".quoteText");t.innerHTML="<span>"+t.innerHTML.split("").join("</span><span>")+"</span>",e()}function closeHeaderDisabler(){slideUp(".disabler",function(){showInvisibles(".main",".footer",".menu",".footer"),fadeIn(".menu",500,function(){homepage_tmpl=body.innerHTML})},100)}function slideUp(e,t,o){var n=document.querySelector(e),r=parseInt(window.getComputedStyle(n,null).height),l=o?o:1,a;a=window.setInterval(function(){r-=3,n.style.height=r+"px",4>=r&&(n.style.height="0px",clearInterval(a),t&&setTimeout(t,l))},1)}function fadeIn(e,t,o,n){var r=getEl(e),l=0,a;a=window.setInterval(function(){l+=.02,r.style.opacity=l,r.style.opacity>=1&&(clearInterval(a),o&&setTimeout(o,n))},t/50)}function convertFontToEm(e){var t=parseInt(window.getComputedStyle(getEl(e),null).fontSize),o=parseInt(window.getComputedStyle(body,null).fontSize),n=t/o;return t/o}function getEl(e){return"string"==typeof e?document.querySelector(e):e}function renderPageTemplate(e){var t=Hogan.compile(getEl("#page_tmpl").innerHTML),o=t.render(data);body.innerHTML=o;var n=Hogan.compile(getEl("#page_tmpl_content").innerHTML),r=n.render(data.authors[e]);getEl(".main-tmpl").innerHTML=r}function renderHomePage(){body.innerHTML=homepage_tmpl}var routes={"author/:authorId":function(e){renderPageTemplate(e)},"/":function(){renderHomePage()}},options={html5history:!0,convert_hash_in_init:!0},router=Router(routes);router.init();var body=getEl("body"),homepage_tmpl,quote_tmpl=Hogan.compile(document.querySelector("#quote_tmpl").innerHTML),menu_tmpl=Hogan.compile(document.querySelector("#menu_tmpl").innerHTML),quoteTmplOutput=quote_tmpl.render(data.quotes[Math.floor(Math.random()*data.quotes.length)]),menuTmplOutput=menu_tmpl.render(data);getEl(".blockquote").innerHTML=quote_tmpl.render(data.quotes[Math.floor(Math.random()*data.quotes.length)]),getEl(".menu").innerHTML=menu_tmpl.render(data);for(var blockquote=getEl(".blockquote"),quoteText=getEl(".quoteText"),quoteAuthor=getEl(".quoteAuthor"),quoteTextFontEm=convertFontToEm(quoteText),quoteAuthorFontEm=convertFontToEm(quoteAuthor),fontProportion=quoteAuthorFontEm/quoteTextFontEm.toFixed(3);blockquote.clientHeight<blockquote.scrollHeight;)quoteTextFontEm-=.1,quoteText.style.fontSize=quoteTextFontEm+"em",quoteAuthor.style.fontSize=quoteTextFontEm*fontProportion+"em";fadeIn(".disabler",1e3,function(){showInvisibles(".main-page"),printQuote()},300);var flag=!0;document.querySelector(".mobile-menu-btn").addEventListener("click",function(){var e=document.querySelector(".main-page");flag?(e.className+=" off-canvas",flag=!1):(e.className="main-page",flag=!0)},!1);